using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using Sirenix.OdinInspector;

namespace VoiceActing
{
    public class CharAnimation_Invulnerability : CharacterAnimationEvent
    {
        /*[SerializeField]
        bool invulnerability = false;*/
        CharacterBase c;
        bool active = true;

        public override void Execute(CharacterBase character)
        {
            c = character;
            character.CharacterKnockback.IsInvulnerable = true;

        }

        public override void UpdateComponent(CharacterBase character, int frame)
        {
            if (frame >= FrameEnd && active)
            {
                character.CharacterKnockback.IsInvulnerable = false;
                active = false;
            }
        }

        public override bool ShowSecondFrame()
        {
            return true;
        }

        private void OnDestroy()
        {
            if(c!= null)
                c.CharacterKnockback.IsInvulnerable = false;
        }

    }
}
